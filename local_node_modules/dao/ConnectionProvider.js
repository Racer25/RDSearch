var connection;
var mysql = require('mysql');

var getConnection = function()
{
    if(connection == null || connection == undefined)
       {
            connection = mysql.createConnection(
            {
              host     : 'localhost',
              user     : 'root',
              password : '',
              database : 'RDSearchDB',
              dateStrings:true
            });
       }
    return connection;
}

var connect = function()
{
    connection.connect(function(err) {
        if (err) {
            console.error('error connecting: ' + err.stack);
            return;
        }
        console.log('connected as id ' + connection.threadId);
    });
}

var end = function()
{
    connection.end();
}

exports.connect=connect;
exports.getConnection=getConnection;
exports.end=end;
