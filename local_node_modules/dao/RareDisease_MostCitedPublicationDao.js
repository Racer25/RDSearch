var ConnectionProvider=require("./ConnectionProvider");
var mysql = require('mysql');

var addRareDisease_MostCitedPublication = function(rareDisease_MostCitedPublication, callback)
{
    var connection=ConnectionProvider.getConnection();

    var sql = "INSERT INTO speak_about(idPublication, orphanetID, timesCited) "+
        "VALUES(?, ?, ?) ON DUPLICATE KEY UPDATE timesCited=?";
    var inserts = [rareDisease_MostCitedPublication.id, rareDisease_MostCitedPublication.orphanetID,
        rareDisease_MostCitedPublication.timesCited, rareDisease_MostCitedPublication.timesCited];
    sql = mysql.format(sql, inserts);

    connection.query(sql, function (error, results, fields) {
        if (error) throw error;
        callback(results);
    });
    connection.end();
};

exports.addRareDisease_MostCitedPublication=addRareDisease_MostCitedPublication;